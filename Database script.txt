CREATE TABLE users (
  user_id SERIAL PRIMARY KEY,
  username VARCHAR(255) NOT NULL,
  password VARCHAR(255) NOT NULL,
  coins INTEGER NOT NULL,
  bio VARCHAR(255)
);

CREATE TABLE cards (
  card_id SERIAL PRIMARY KEY, 
  id VARCHAR(255) NOT NULL,
  name VARCHAR(255) NOT NULL,
  damage INTEGER NOT NULL,
  element_type VARCHAR(255),
  card_type VARCHAR(255)
);

CREATE TABLE stacks (
  stack_id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(user_id)
);

CREATE TABLE stack_cards (
  stack_id INTEGER NOT NULL,
  card_id INTEGER NOT NULL,
  FOREIGN KEY (stack_id) REFERENCES stacks(stack_id),
  FOREIGN KEY (card_id) REFERENCES cards(card_id)
);

CREATE TABLE packages (
  package_id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(user_id)
);

CREATE TABLE package_cards (
  package_id INTEGER NOT NULL,
  card_id INTEGER NOT NULL,
  FOREIGN KEY (package_id) REFERENCES packages(package_id),
  FOREIGN KEY (card_id) REFERENCES cards(card_id)
);

CREATE TABLE decks (
  deck_id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(user_id)
);

CREATE TABLE deck_cards (
  deck_id INTEGER NOT NULL,
  card_id INTEGER NOT NULL,
  FOREIGN KEY (deck_id) REFERENCES decks(deck_id),
  FOREIGN KEY (card_id) REFERENCES cards(card_id)
);

CREATE TABLE battles (
  battle_id SERIAL PRIMARY KEY,
  users1_id INTEGER NOT NULL,
  users2_id INTEGER NOT NULL,
  FOREIGN KEY (users1_id) REFERENCES users(user_id),
  FOREIGN KEY (users2_id) REFERENCES users(user_id)
);

CREATE TABLE stats (
  stat_id SERIAL PRIMARY KEY,
  elo INTEGER,
  wins INTEGER,
  losses INTEGER,
  user_id INTEGER NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(user_id)
);

